# 15 Strings, Caracteres e Expressões Regulares

- 15.1 [Introdução](#151-introdução)
- 15.2 [Fundamentos dos Caracteres e Strings](#152-fundamentos-dos-caracteres-e-strings)
- 15.3 [Construtores de String](#153-construtores-de-string)
- 15.4 [Indexador, Propriedade Length e Método CopyTo de String](#154-indexador-propriedade-length-e-método-copyto-de-string)
- 15.5 [Comparando Strings](#155-comparando-strings)
- 15.6 [Método GetHashCode de String](#156-método-gethashcode-de-string)
- 15.7 [Localizando Caracteres e Substrings em Strings](#157-localizando-caracteres-e-substrings-em-strings)
- 15.8 [Extraindo Substrings de Strings](#158-extraindo-substrings-de-strings)
- 15.9 [Concatenando Strings](#159-concatenando-strings)
- 15.10 [Métodos de String Diversos](#1510-métodos-de-string-diversos)
- 15.11 [Classe StringBuilder](#1511-classe-stringbuilder)
- 15.12 [Indexador, Propriedades Length e Capacity e Método EnsureCapacity de StringBuilder](#1512-indexador-propriedades-length-e-capacity-e-método-ensurecapacity-de-stringbuilder)
- 15.13 [Métodos Append e AppendFormat de StringBuilder](#1513-métodos-append-e-appendformat-de-stringbuilder)
- 15.14 [Métodos Insert, Remove e Replace de StringBuilder](#1514-métodos-insert-remove-e-replace-de-stringbuilder)
- 15.15
- 15.16
- 15.17

## 15.1 Introdução

Neste capítulo apresentaremos os recursos de processamento de strings e caracteres da FCL e demonstraremos
o uso de expressões regulares para procurar padrões no texto.
As técnicas apresentadas aqui podem ser empregadas para desenvolver editores de texto,
processadores de textos, software de layout de páginas, sistemas de composição de computadorizados e outros tipos de software de processamento de texto.

## 15.2 Fundamentos dos Caracteres e Strings

Um string é uma série de caracteres tratados como uma única unidade. Esses caracteres podem ser letras maiúscula,
letras minúsculas, dígitos e vários **caracteres especiais**, como **+**, **-**, **\***, **/**, **$** e outros.
Uma string é um objeto da classe **String** no espaço de nomes **System**.

Uma declaração pode atribuir uma **string** literal a uma referência a **string**. A declaração

```csharp
string cor = "azul";
```

inicializa a referência a **string cor** para se referir ao objeto **string** literal **"azul"**.

Algumas vezes uma **string** conterá vários caracteres de barra invertida.
É possível excluir sequências de escape e interpretar literalmente todos os caracteres de uma **string** usando o caractere **@**.

```csharp
string file = "C:\\MinhaPasta\\MinhaSubPasta\\MeuArquivo.txt";
```

Usando a sintaxe de string textual, a atribuição pode ser alterada para

```csharp
string arquivo = @"C:\MinhaPasta\MinhaSubPasta\MeuArquivo.txt";
```

## 15.3 Construtores de String

A classe **String** fornece oito construtores para inicializar **string** de várias maneiras.
A Figura 15.1 demonstra o uso de três dos construtores.

- Fig. 15.1: [StringConstructor.cs](./Fig-15.01%20-%20StringConstructor.cs)\
Demonstrando construtores da classe String.

## 15.4 Indexador, Propriedade Length e Método CopyTo de String

O aplicativo da Figura 15.2 apresenta o indexador de **String**, que facilita a recuperação de qualquer caractere na string,
e a Propriedade **Length** de **String**, que retorna o comprimento da **string**. O método **CopyTo** de **String** copia um
número especificado de caracteres a partir de uma **string** em um array **char**.

- Fig. 15.2: [StringMethods.cs](./Fig-15.02%20-%20StringMethods.cs)\
Usando o indexador, a propriedade Length e o método CopyTo da classe String.

## 15.5 Comparando Strings

Os dois próximos exemplos demonstram os vários métodos que o C# fornece para comparar **string**.

- Fig. 15.3: [StringCompare.cs](./Fig-15.03%20-%20StringCompare.cs)\
Comparando strings.

- Fig. 15.4: [StringStartEnd.cs](./Fig-15.04%20-%20StringStartEnd.cs)\
Demonstrando os métodos StartsWith e EndsWith.

## 15.6 Método GetHashCode de String

Uma **tabela de hash** armazena um objeto efetuando um cálculo especial nesse objeto, o qual produz um **código de hash**.
Então, o objeto é armazenado em um local na tabela de hash, determinado pelo código de hash calculado.
Quando um programa precisa recuperar as informações, o mesmo cálculo é efetuado, gerando o mesmo código de hash.

- Fig. 15.5: [StringHashCode.cs](./Fig-15.05%20-%20StringHashCode.cs)\
Demonstrando o método GetHashCode da classe String.

## 15.7 Localizando Caracteres e Substrings em Strings

Em muitas aplicações é necessário procurar um caractere ou conjunto de caracteres em uma **string**.

- Fig. 15.6: [StringIndexMethods.cs](./Fig-15.06%20-%20StringIndexMethods.cs)\
Usando métodos de busca de String.

## 15.8 Extraindo Substrings de Strings

A classe **String** fornece dois métodos **Substring**, os quais são usados para criar uma nova **string** por meio da cópia
de parte de uma **string** existente.

- Fig. 15.7: [SubString.cs](./Fig-15.07%20-%20SubString.cs)\
Demonstrando o método Substring de String.

## 15.9 Concatenando Strings

O operador **+** não é a única maneira de realizar concatenação de **strings**.
O método **static Concat** da classe **String** concatena duas **strings** e retorna uma nova **string** contendo
os caracteres combinados das duas strings originais.

## 15.10 Métodos de String Diversos

A classe **String** fornece vários métodos que retornam cópias modificadas.

- Fig. 15.8: [SubConcatination.cs](./Fig-15.08%20-%20SubConcatination.cs)\
Demonstrando o método Concat da classe String.

- Fig. 15.9: [StringMiscellaneous2.cs](./Fig-15.09%20-%20StringMiscellaneous.cs)\
Demonstrando os métodos Replace, ToLower, ToUpper, Trim e ToString de String.

## 15.11 Classe StringBuilder

A classe **String** fornece muitos recursos para processamento de **strings**.
Entretanto, o conteúdo de uma **string** nunca pode mudar.

- Fig. 15.10: [StringBuilderConstructor.cs](./Fig-15.10%20-%20StringBuilderConstructor.cs)\
Demonstrando os construtores da classe StringBuilder.

## 15.12 Indexador, Propriedades Length e Capacity e Método EnsureCapacity de StringBuilder

A classe **StringBuilder** fornece as propriedades **Length** e **Capacity** para retornar o número
de caracteres atualmente em um objeto StringBuilder e o número de caracteres que um objeto **StringBuilder**
pode armazenar sem alocar mas memória.

O método **EnsureCapacity** permite que os programadores garantam que um objeto **StringBuilder** tenham uma
capacidade que reduza o número de vezes que ela deva ser aumentada.

- Fig. 15.11: [StringBuilderFeatures.cs](./Fig-15.11%20-%20StringBuilderFeatures.cs)\
Demonstrando alguns recursos da classe StringBuilder.

## 15.13 Métodos Append e AppendFormat de StringBuilder

A classe **StringBuilder** fornece 19 métodos **Append** sobrecarregados, que permite vários valores de tipo de dados
sejam adicionados no final de um objeto **StringBuilder**.

- Fig. 15.12: [StringBuilderAppend.cs](./Fig-15.12%20-%20StringBuilderAppend.cs)\
Demonstrando os métodos Append de StringBuilder.

- Fig. 15.13: [StringBuilderAppendFormat.cs](./Fig-15.13%20-%20StringBuilderAppendFormat.cs)\
Demonstrando o método AppendFormat.

## 15.14 Métodos Insert, Remove e Replace de StringBuilder

A classe **StringBuilder** fornece 18 métodos **Insert** sobrecarregados para permitir que vários valores de tipo de dados sejam inseridos em qualquer posição de um **StringBuilder**.

- Fig. 15.14: [StringBuilderInsertRemove.cs](./Fig-15.14%20-%20StringBuilderInsertRemove.cs)\
Demonstrando os métodos Insert e Remove da classe StringBuilder.

- Fig. 15.15: [StringBuilderReplace.cs](./Fig-15.15%20-%20StringBuilderReplace.cs)\
Demonstrando o método Replace.
